webpackJsonp([14],{R7UB:function(e,l,t){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var a={render:function(){var e=this,l=e.$createElement,t=e._self._c||l;return t("div",{staticClass:"allPage"},[t("div",{staticClass:"core_container"},[t("div",{staticClass:"form_container"},[t("el-form",{ref:"mail",staticClass:"formStyle text_common",attrs:{"label-position":e.labelPosition,"label-width":"100px",model:e.mail,size:"mini"}},[t("el-form-item",{attrs:{label:"邮件类型",prop:"gmail_type"}},[t("el-radio-group",{model:{value:e.mail.gmail_type,callback:function(l){e.$set(e.mail,"gmail_type",l)},expression:"mail.gmail_type"}},[t("el-radio",{attrs:{label:1}},[e._v("全局邮件")]),e._v(" "),t("el-radio",{attrs:{label:2}},[e._v("公告邮件")])],1)],1),e._v(" "),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.mail.gmail_type,expression:"mail.gmail_type == 2"}],attrs:{label:"过期时间(秒)",prop:"expire_time"}},[t("el-input",{attrs:{"auto-complete":"false"},model:{value:e.mail.expire_time,callback:function(l){e.$set(e.mail,"expire_time",e._n(l))},expression:"mail.expire_time"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"邮件标题",prop:"title",required:!0}},[t("el-input",{model:{value:e.mail.title,callback:function(l){e.$set(e.mail,"title",l)},expression:"mail.title"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"邮件内容",prop:"content",required:!0}},[t("el-input",{attrs:{type:"textarea",autosize:{minRows:6,maxRows:10},maxlength:200,"show-word-limit":!0,clearable:!0},model:{value:e.mail.content,callback:function(l){e.$set(e.mail,"content",l)},expression:"mail.content"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"发送类型",prop:"uuid",required:e.pushOne}},[t("el-radio-group",{model:{value:e.pushOne,callback:function(l){e.pushOne=l},expression:"pushOne"}},[t("el-radio",{attrs:{label:!0}},[e._v("个人邮件")]),e._v(" "),t("el-radio",{attrs:{label:!1}},[e._v("全服邮件")])],1),e._v(" "),t("br"),e._v(" "),t("label",{directives:[{name:"show",rawName:"v-show",value:e.pushOne,expression:"pushOne"}]},[e._v("指定用户ID   ")]),t("el-input",{directives:[{name:"show",rawName:"v-show",value:e.pushOne,expression:"pushOne"}],staticStyle:{width:"200px"},model:{value:e.mail.uuid,callback:function(l){e.$set(e.mail,"uuid",l)},expression:"mail.uuid"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"内容类型",prop:"type"}},[t("el-radio-group",{model:{value:e.mail.type,callback:function(l){e.$set(e.mail,"type",l)},expression:"mail.type"}},[t("el-radio",{attrs:{label:0}},[e._v("普通邮件")]),e._v(" "),t("el-radio",{attrs:{label:1}},[e._v("附件邮件")])],1)],1),e._v(" "),t("el-button",{directives:[{name:"show",rawName:"v-show",value:1===e.mail.type,expression:"mail.type === 1"}],staticStyle:{"margin-left":"100px"},attrs:{type:"primary",size:"mini"},on:{click:e.addAppendix}},[e._v("新增")]),e._v(" "),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1===e.mail.type,expression:"mail.type === 1"}],attrs:{label:"附件列表",prop:"appendix"}},[[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.mail.appendix,border:""}},[t("el-table-column",{attrs:{prop:"type",label:"类型",width:"100"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("el-input",{attrs:{placeholder:"类型"},model:{value:l.row.type,callback:function(t){e.$set(l.row,"type",e._n(t))},expression:"scope.row.type"}})]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"id",label:"道具id",width:"109"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("el-input",{attrs:{placeholder:"道具id"},model:{value:l.row.id,callback:function(t){e.$set(l.row,"id",e._n(t))},expression:"scope.row.id"}})]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"num",label:"数量",width:"100"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("el-input",{attrs:{placeholder:"数量"},model:{value:l.row.num,callback:function(t){e.$set(l.row,"num",e._n(t))},expression:"scope.row.num"}})]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("el-button",{attrs:{type:"danger",size:"small"},nativeOn:{click:function(t){return t.preventDefault(),e.deleteRow(l.$index)}}},[e._v("\n                    移除\n                  ")])]}}])})],1)]],2),e._v(" "),t("el-form-item",{attrs:{label:"按钮类型",prop:"btnClickAction"}},[t("el-radio-group",{model:{value:e.mail.btnClickAction,callback:function(l){e.$set(e.mail,"btnClickAction",l)},expression:"mail.btnClickAction"}},[t("el-radio",[e._v("普通")]),e._v(" "),t("el-radio",{attrs:{label:"0"}},[e._v("充值")]),e._v(" "),t("el-radio",{attrs:{label:"1"}},[e._v("抽奖")]),e._v(" "),t("el-radio",{attrs:{label:"2"}},[e._v("领取")]),e._v(" "),t("el-radio",{attrs:{label:"3"}},[e._v("邀请")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"邮件内容点击",prop:"contClickAction"}},[t("el-radio-group",{model:{value:e.mail.contClickAction,callback:function(l){e.$set(e.mail,"contClickAction",l)},expression:"mail.contClickAction"}},[t("el-radio",{attrs:{label:"0"}},[e._v("可以")]),e._v(" "),t("el-radio",{attrs:{label:"1"}},[e._v("不可以")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"背景图",prop:"bgContentImg"}},[t("el-radio-group",{model:{value:e.mail.bgContentImg,callback:function(l){e.$set(e.mail,"bgContentImg",l)},expression:"mail.bgContentImg"}},[t("el-radio",{attrs:{label:0}},[e._v("没有")]),e._v(" "),t("el-radio",{attrs:{label:1}},[e._v("有")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"邮件图标",prop:"mailIco"}},[t("el-radio-group",{model:{value:e.mail.mailIco,callback:function(l){e.$set(e.mail,"mailIco",l)},expression:"mail.mailIco"}},[t("el-radio",[e._v("默认图标")]),e._v(" "),t("el-radio",{attrs:{label:"0"}},[e._v("提示充值")]),e._v(" "),t("el-radio",{attrs:{label:"1"}},[e._v("提示抽奖")]),e._v(" "),t("el-radio",{attrs:{label:"2"}},[e._v("提示领取金币")]),e._v(" "),t("el-radio",{attrs:{label:"3"}},[e._v("邀请好友")]),e._v(" "),t("el-radio",{attrs:{label:"4"}},[e._v("系统消息")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"能否删除",prop:"isDel"}},[t("el-radio-group",{model:{value:e.mail.isDel,callback:function(l){e.$set(e.mail,"isDel",l)},expression:"mail.isDel"}},[t("el-radio",{attrs:{label:0}},[e._v("不能删除")]),e._v(" "),t("el-radio",{attrs:{label:1}},[e._v("能删除")])],1)],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.onSubmit}},[e._v("提交")]),e._v(" "),t("el-button",{attrs:{type:"danger",size:"medium"},on:{click:function(l){return e.resetForm("mail")}}},[e._v("重置")])],1)],1)],1)])])},staticRenderFns:[]};var i=t("VU/8")({computed:{},data:function(){return{labelPosition:"right",mail:{gmail_type:null,expire_time:null,title:null,content:null,uuid:null,type:0,appendix:[],contClickAction:null,bgContentImg:null,mailIco:null,isDel:null},pushOne:!0}},methods:{onSubmit:function(){var e=this;if(this.mail.title&&this.mail.content){0==this.mail.type&&(this.mail.appendix=[]);var l=this;this.$api.mail.sendMail(this.mail).then(function(t){!0===t.data.success?(e.$message({showClose:!0,message:"发送邮件成功",type:"success"}),l.$refs.mail.resetFields()):e.$message({showClose:!0,message:"发送邮件失败",type:"error"})})}else this.$message({showClose:!0,message:"标题和内容不能为空",type:"error"})},resetForm:function(e){this.$refs[e].resetFields()},addAppendix:function(){this.mail.appendix.push({type:"",id:"",num:""})},deleteRow:function(e){this.mail.appendix.splice(e,1)}},watch:{mail:{handler:function(e,l){2!=e.gmail_type&&(e.isDel=0)},immediate:!0,deep:!0}}},a,!1,function(e){t("yzyg")},"data-v-604014ec",null);l.default=i.exports},yzyg:function(e,l){}});