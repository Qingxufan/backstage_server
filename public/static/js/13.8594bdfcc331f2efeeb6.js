webpackJsonp([13],{"1iie":function(e,t){},"5bx2":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={computed:{},data:function(){return{labelPosition:"right",requestParam:{app_id:"",boss_id:"",channel_code:""},responseData:[],page:{list:[],current_page:1,total:0,page_size:8},showTab:!1,action:{type:"",title:"新增配置"},secret:{boss_id:"",app_id:"",channel_code:"",fb_app_id:"",fb_secret:""},dialogFormVisible:!1,formLabelWidth:"20%"}},methods:{getList:function(){var e=this,t=this;t.responseData=[],this.$api.app.fbSecretList(this.requestParam).then(function(a){if(!0===a.data.success){t.responseData=a.data.data.list,t.page.total=t.responseData.length;var s=(t.page.current_page-1)*t.page.page_size,i=t.page.total>t.page.current_page*t.page.page_size?t.page.current_page*t.page.page_size:t.responseData.length;t.page.list=t.responseData.slice(s,i)}else e.$message({showClose:!0,message:"获取FaceBook密匙列表失败",type:"error"})})},resetForm:function(){this.secret={boss_id:"",app_id:"",channel_code:"",fb_app_id:"",fb_secret:""}},tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%4==1?"warning-row":t%4==3?"success-row":""},doCommit:function(){var e=this,t=this;"add"==this.action.type||"update"==this.action.type?this.$api.app.updateFbSecret(this.secret).then(function(a){var s="add"==t.action.type?"新增成功!":"修改成功!",i="add"==t.action.type?"新增失败!":"修改失败!";!0===a.data.success?(e.$message({showClose:!0,message:s,type:"success"}),t.dialogFormVisible=!1,t.resetForm(),t.methods.getList()):e.$message({showClose:!0,message:i,type:"error"})}):"remove"==this.action.type&&this.$api.app.deleteFbSecret(this.secret).then(function(a){!0===a.data.success?(e.$message({showClose:!0,message:"移除成功！",type:"success"}),t.dialogFormVisible=!1,t.resetForm(),t.methods.getList()):e.$message({showClose:!0,message:"移除失败",type:"error"})})},add:function(){this.dialogFormVisible=!0,this.action.type="add",this.action.title="新增配置",this.resetForm()},update:function(){this.dialogFormVisible=!0,this.action.type="update",this.action.title="修改",this.resetForm()},remove:function(){this.dialogFormVisible=!0,this.action.type="remove",this.action.title="删除",this.resetForm()},prePage:function(){this.page.current_page>0&&(this.page.current_page--,this.page.list=this.responseData.slice((this.page.current_page-1)*this.page.page_size,this.responseData.length>this.page.current_page*this.page.page_size?this.page.current_page*this.page.page_size:this.responseData.length))},thisPage:function(e){this.page.current_page=e,this.page.list=this.responseData.slice((this.page.current_page-1)*this.page.page_size,this.responseData.length>this.page.current_page*this.page.page_size?this.page.current_page*this.page.page_size:this.responseData.length)},nextPage:function(){this.page.current_page<Math.ceil(this.page.total/this.page.page_size)&&(this.page.current_page++,this.page.list=this.responseData.slice((this.page.current_page-1)*this.page.page_size,this.responseData.length>this.page.current_page*this.page.page_size?this.page.current_page*this.page.page_size:this.responseData.length))}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"allPage"},[a("div",{staticClass:"core_container"},[a("div",{staticClass:"form_container"},[a("el-form",{staticClass:"demo-form-inline form_container_header",attrs:{inline:!0,model:e.requestParam,size:"mini"}},[a("el-form-item",{attrs:{label:"AppId",required:!0}},[a("el-input",{model:{value:e.requestParam.app_id,callback:function(t){e.$set(e.requestParam,"app_id",e._n(t))},expression:"requestParam.app_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"BossId"}},[a("el-input",{model:{value:e.requestParam.boss_id,callback:function(t){e.$set(e.requestParam,"boss_id",e._n(t))},expression:"requestParam.boss_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道码"}},[a("el-input",{model:{value:e.requestParam.channel_code,callback:function(t){e.$set(e.requestParam,"channel_code",t)},expression:"requestParam.channel_code"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.getList}},[e._v("查询")])],1)],1)],1),e._v(" "),a("div",{staticClass:"showDataTab"},[[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.add}},[e._v("新增")]),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:e.update}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.remove}},[e._v("删除")])],e._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"5px"},attrs:{data:e.page.list,"row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{prop:"key",label:"Key"}}),e._v(" "),a("el-table-column",{attrs:{prop:"secert",label:"Secert"}})],1),e._v(" "),[a("el-dialog",{attrs:{title:e.action.title,visible:e.dialogFormVisible,"show-close:true":""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"secret",attrs:{model:e.secret}},[a("el-form-item",{attrs:{label:"AppId","label-width":e.formLabelWidth,prop:"app_id",required:!0}},[a("el-input",{staticClass:"dialog_input",model:{value:e.secret.app_id,callback:function(t){e.$set(e.secret,"app_id",e._n(t))},expression:"secret.app_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"BossId","label-width":e.formLabelWidth,prop:"boss_id",required:!0}},[a("el-input",{staticClass:"dialog_input",model:{value:e.secret.boss_id,callback:function(t){e.$set(e.secret,"boss_id",e._n(t))},expression:"secret.boss_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道码","label-width":e.formLabelWidth,prop:"channel_code"}},[a("el-input",{staticClass:"dialog_input",model:{value:e.secret.channel_code,callback:function(t){e.$set(e.secret,"channel_code",t)},expression:"secret.channel_code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"FaceBook ID","label-width":e.formLabelWidth,prop:"fb_app_id",required:!0}},[a("el-input",{staticClass:"dialog_input",model:{value:e.secret.fb_app_id,callback:function(t){e.$set(e.secret,"fb_app_id",t)},expression:"secret.fb_app_id"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"remove"!=e.action.type,expression:"action.type!='remove'"}],attrs:{label:"FaceBook Secret","label-width":e.formLabelWidth,prop:"secret",required:!0}},[a("el-input",{staticClass:"dialog_input",model:{value:e.secret.fb_secret,callback:function(t){e.$set(e.secret,"fb_secret",t)},expression:"secret.fb_secret"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticStyle:{"margin-left":"20%"},on:{click:function(t){e.dialogFormVisible=!1,e.resetForm()}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.doCommit}},[e._v("确 定")])],1)],1)],1)]],2),e._v(" "),a("div",{staticClass:"pageBar"},[a("el-pagination",{attrs:{background:"","hide-on-single-page":"",layout:"prev, pager, next","current-page":e.page.current_page,"page-size":e.page.page_size,total:e.page.total},on:{"next-click":e.nextPage,"current-change":e.thisPage,"prev-click":e.prePage}})],1)])])},staticRenderFns:[]};var r=a("VU/8")(s,i,!1,function(e){a("1iie")},"data-v-5f0b951f",null);t.default=r.exports}});
//# sourceMappingURL=13.8594bdfcc331f2efeeb6.js.map