webpackJsonp([22],{qfkK:function(e,a){},riIB:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=t("PJh5"),r=t.n(l),n={computed:{},data:function(){return{labelPosition:"right",requestParam:{search:{item:"uid",value:null,range_obj:"total_gold",range:[],sort:1}},page:{list:[],current_page:1,total:0,page_size:8},options:[{value:"total_gold",label:"总金币"},{value:"winLose",label:"输赢"},{value:"flow",label:"流水"},{value:"reward",label:"奖励"},{value:"give",label:"赠与"},{value:"receive",label:"收到"}]}},methods:{getList:function(){var e=this,a=this;a.page.list=[],a.page.total=0;var t={search:this.requestParam.search,page:{current_page:this.page.current_page,page_size:this.page.page_size}};this.$api.statistic.list_realTimeData(t).then(function(t){if(200===t.data.code){var l=[];t.data.data.list.forEach(function(e){-1==l.findIndex(function(a){return a==e.total._id})&&l.push(e.total._id)}),e.$api.statistic.getUidList({uuids:l}).then(function(e){if(!0===e.data.success){var l=e.data.data.bwb_infos;t.data.data.list.map(function(e,a){return e.nick_name=l[e.total._id].nick_name,e}),a.page.total=t.data.data.total,a.page.list=t.data.data.list}})}})},tableRowClassName:function(e){e.row;var a=e.rowIndex;return a%4==1?"warning-row":a%4==3?"success-row":""},prePage:function(){this.page.current_page>0&&(this.page.current_page--,this.getList())},thisPage:function(e){this.page.current_page=e,this.getList()},nextPage:function(){this.page.current_page<Math.ceil(this.page.total/this.page.page_size)&&(this.page.current_page++,this.getList())}},filters:{formatDate:function(e){return r()(e).format("YY/MM/DD H:mm:ss")},returnDefault:function(e){if(!e)return 0}}},s={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"allPage"},[t("div",{staticClass:"core_container"},[t("div",{staticClass:"form_container"},[t("el-form",{staticClass:"demo-form-inline form_container_header",attrs:{inline:!0,size:"mini"}},[t("el-form-item",{attrs:{label:"搜索项"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.requestParam.search.item,callback:function(a){e.$set(e.requestParam.search,"item",a)},expression:"requestParam.search.item"}},[t("el-option",{attrs:{lable:"用户Id",value:"uid"}}),e._v(" "),t("el-option",{attrs:{lable:"分组",value:"room",disabled:!0}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:e.requestParam.search.item}},[t("el-input",{model:{value:e.requestParam.search.value,callback:function(a){e.$set(e.requestParam.search,"value",e._n(a))},expression:"requestParam.search.value"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"筛选类别"}},[[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.requestParam.search_item,callback:function(a){e.$set(e.requestParam,"search_item",a)},expression:"requestParam.search_item"}},e._l(e.options,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)]],2),e._v(" "),t("el-form-item",{attrs:{label:"金额范围"}},[t("el-input",{staticClass:"minInput",attrs:{placeholder:"最低金额",size:"small"},model:{value:e.requestParam.search.range[0],callback:function(a){e.$set(e.requestParam.search.range,0,e._n(a))},expression:"requestParam.search.range[0]"}}),e._v("\n          -\n          "),t("el-input",{staticClass:"minInput",attrs:{placeholder:"最高金额",size:"small"},model:{value:e.requestParam.search.range[1],callback:function(a){e.$set(e.requestParam.search.range,1,e._n(a))},expression:"requestParam.search.range[1]"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.getList}},[e._v("查询")])],1)],1)],1),e._v(" "),t("div",{staticClass:"showDataTab"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.page.list,"row-class-name":e.tableRowClassName}},[t("el-table-column",{attrs:{prop:"total.uid",label:"用户ID",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"nick_name",label:"昵称",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"total.group",label:"玩家分组",align:"center"}},[e._v("\n          -\n        ")]),e._v(" "),t("el-table-column",{attrs:{prop:"total.total_gold",label:"总金币",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"total.recharge",label:"总充值",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"total.winLose",label:"总输赢",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"total.flow",label:"总流水",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"day.recharge_diff",label:"今日充值",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v("\n            "+e._s(e._f("returnDefault")(a.row.day.recharge_diff))+"\n          ")]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"day.winLose_diff",label:"今日输赢",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v("\n            "+e._s(e._f("returnDefault")(a.row.day.winLose_diff))+"\n          ")]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"day.flow_diff",label:"今日流水",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v("\n            "+e._s(e._f("returnDefault")(a.row.day.flow_diff))+"\n          ")]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"day.tax_diff",label:"今日税收",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v("\n            "+e._s(e._f("returnDefault")(a.row.day.tax_diff))+"\n          ")]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"total.uc",label:"后台调整",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v("\n            "+e._s(a.row.total.uc.now)+" / "+e._s(a.row.total.uc.tar)+"\n            ")]}}])})],1)],1),e._v(" "),t("div",{staticClass:"pageBar"},[t("el-pagination",{attrs:{background:"","hide-on-single-page":"",layout:"prev, pager, next","current-page":e.page.current_page,"page-size":e.page.page_size,total:e.page.total},on:{"next-click":e.nextPage,"current-change":e.thisPage,"prev-click":e.prePage}})],1)])])},staticRenderFns:[]};var i=t("VU/8")(n,s,!1,function(e){t("qfkK")},"data-v-10bf9686",null);a.default=i.exports}});